{% extends 'base.html' %}
{% load static %}

{% block title %}{{ conversation.title|default:"Conversation" }} - SharedHousing{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="row">
        <!-- Conversation Header -->
        <div class="col-12">
            <div class="card mb-4">
                <div class="card-header">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex align-items-center">
                            <a href="{% url 'messaging:conversations_list' %}" class="btn btn-outline-secondary me-3">
                                <i class="bi bi-arrow-left"></i> Back
                            </a>
                            <div>
                                <h5 class="mb-0">
                                    {% if conversation.title %}
                                        {{ conversation.title }}
                                    {% elif conversation.conversation_type == 'direct' %}
                                        {% for participant in conversation.participants.all %}
                                            {% if participant != user %}
                                                Chat with {{ participant.get_short_name }}
                                            {% endif %}
                                        {% endfor %}
                                    {% else %}
                                        {{ conversation.get_conversation_type_display }}
                                    {% endif %}
                                </h5>
                                <small class="text-muted">
                                    {{ conversation.participants.count }} participant{{ conversation.participants.count|pluralize }}
                                    â€¢ {{ conversation.conversation_type|title }} conversation
                                </small>
                            </div>
                        </div>

                        <!-- Conversation Actions -->
                        <div class="dropdown">
                            <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                <i class="bi bi-three-dots"></i>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#"><i class="bi bi-info-circle me-2"></i>Conversation Info</a></li>
                                {% if conversation.conversation_type != 'direct' %}
                                    <li><a class="dropdown-item" href="{% url 'messaging:add_participants' conversation.id %}"><i class="bi bi-person-plus me-2"></i>Add Participants</a></li>
                                {% endif %}
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item text-danger" href="{% url 'messaging:leave_conversation' conversation.id %}"><i class="bi bi-box-arrow-right me-2"></i>Leave Conversation</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Messages Area -->
        <div class="col-lg-9">
            <div class="chat-container" style="height: 75vh;">
                <!-- Messages List -->
                <div id="messages-container" class="messages-area">
                    {% for message in messages %}
                        {% if message.message_type == 'system' %}
                            <div class="system-message">
                                <div class="system-message-content">
                                    <i class="bi bi-info-circle me-1"></i>
                                    {{ message.content }}
                                </div>
                                <div class="system-message-time">{{ message.created_at|date:"M d, g:i A" }}</div>
                            </div>
                        {% else %}
                            <div class="message-wrapper {% if message.sender == user %}sent{% else %}received{% endif %}">
                                {% if message.sender and message.sender != user %}
                                    <div class="avatar">
                                        <div class="avatar-circle">
                                            {{ message.sender.get_short_name.0|upper }}
                                        </div>
                                    </div>
                                {% endif %}
                                <div class="message-group">
                                    {% if message.sender and message.sender != user %}
                                        <div class="sender-name">{{ message.sender.get_short_name }}</div>
                                    {% endif %}
                                    <div class="message-bubble {% if message.sender == user %}sent-bubble{% else %}received-bubble{% endif %}">
                                        <div class="message-content">{{ message.content|linebreaksbr }}</div>
                                        <div class="message-time">{{ message.created_at|date:"g:i A" }}</div>
                                    </div>
                                    {% if message.sender == user %}
                                        <div class="message-status">
                                            <i class="bi bi-check2-all text-primary"></i>
                                        </div>
                                    {% endif %}
                                </div>
                                {% if message.sender == user %}
                                    <div class="avatar">
                                        <div class="avatar-circle user-avatar">
                                            {{ user.get_short_name.0|upper }}
                                        </div>
                                    </div>
                                {% endif %}
                            </div>
                        {% endif %}
                    {% empty %}
                        <div class="empty-state">
                            <i class="bi bi-chat-dots"></i>
                            <h5>No messages yet</h5>
                            <p>Start the conversation by sending a message below.</p>
                        </div>
                    {% endfor %}
                </div>

                <!-- Typing Indicator -->
                <div id="typing-indicator" class="typing-indicator" style="display: none;">
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <span class="typing-text">Someone is typing...</span>
                </div>

                <!-- Message Input Form -->
                <div class="message-input-area">
                    <form id="message-form" method="post" action="{% url 'messaging:send_message' conversation.id %}">
                        {% csrf_token %}
                        <div class="input-container">
                            <button type="button" class="attachment-btn" title="Attach file">
                                <i class="bi bi-paperclip"></i>
                            </button>
                            <textarea id="message-input" name="content"
                                     placeholder="Type a message..."
                                     rows="1"></textarea>
                            <button type="button" class="emoji-btn" title="Add emoji">
                                <i class="bi bi-emoji-smile"></i>
                            </button>
                            <button type="submit" class="send-btn" id="send-btn">
                                <i class="bi bi-send-fill"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="col-lg-3">
            <!-- Participants -->
            <div class="card mb-3">
                <div class="card-header">
                    <h6 class="mb-0">Participants ({{ conversation.participants.count }})</h6>
                </div>
                <div class="card-body">
                    {% for participant in conversation.participants.all %}
                        <div class="d-flex align-items-center mb-2 {% if not forloop.last %}border-bottom pb-2{% endif %}">
                            <div class="bg-{% if participant == user %}primary{% else %}secondary{% endif %} rounded-circle d-flex align-items-center justify-content-center me-2"
                                 style="width: 35px; height: 35px;">
                                <i class="bi bi-person text-white"></i>
                            </div>
                            <div class="flex-grow-1">
                                <div class="fw-medium">
                                    {{ participant.get_short_name }}
                                    {% if participant == user %}<small class="text-muted">(You)</small>{% endif %}
                                </div>
                                <div class="small text-muted">
                                    {% if participant.last_login %}
                                        Last seen {{ participant.last_login|timesince }} ago
                                    {% else %}
                                        Never logged in
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Conversation Info -->
            <div class="card mb-3">
                <div class="card-header">
                    <h6 class="mb-0">Conversation Info</h6>
                </div>
                <div class="card-body">
                    <div class="small">
                        <div class="mb-2">
                            <strong>Type:</strong> {{ conversation.get_conversation_type_display }}
                        </div>
                        <div class="mb-2">
                            <strong>Created:</strong> {{ conversation.created_at|date:"M d, Y \a\t g:i A" }}
                        </div>
                        <div class="mb-2">
                            <strong>Messages:</strong> {{ messages|length }}
                        </div>
                        {% if conversation.property_listing %}
                            <div class="mb-2">
                                <strong>Property:</strong>
                                <a href="{% url 'properties:detail' conversation.property_listing.id %}" class="text-decoration-none">
                                    {{ conversation.property_listing.title }}
                                </a>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="card">
                <div class="card-header">
                    <h6 class="mb-0">Quick Actions</h6>
                </div>
                <div class="card-body">
                    <div class="d-grid gap-2">
                        {% if conversation.conversation_type == 'direct' and conversation.participants.count == 2 %}
                            {% for participant in conversation.participants.all %}
                                {% if participant != user %}
                                    <a href="{% url 'matching:compatibility_detail' participant.id %}" class="btn btn-outline-primary btn-sm">
                                        <i class="bi bi-bar-chart me-1"></i>View Compatibility
                                    </a>
                                    <a href="{% url 'profiles:profile_view_other' participant.id %}" class="btn btn-outline-secondary btn-sm">
                                        <i class="bi bi-person me-1"></i>View Profile
                                    </a>
                                {% endif %}
                            {% endfor %}
                        {% endif %}

                        {% if conversation.conversation_type == 'property_inquiry' and conversation.property_listing %}
                            <a href="{% url 'properties:detail' conversation.property_listing.id %}" class="btn btn-outline-success btn-sm">
                                <i class="bi bi-house me-1"></i>View Property
                            </a>
                        {% endif %}

                        <a href="{% url 'messaging:conversations_list' %}" class="btn btn-outline-secondary btn-sm">
                            <i class="bi bi-list me-1"></i>All Conversations
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const messagesContainer = document.getElementById('messages-container');
    const messageForm = document.getElementById('message-form');
    const messageInput = document.getElementById('message-input');
    const sendBtn = document.getElementById('send-btn');
    const typingIndicator = document.getElementById('typing-indicator');

    let lastMessageId = null;
    let typingTimer = null;
    let isTyping = false;
    let pollInterval = null;
    let isSubmitting = false;

    // Get the last message ID for polling
    const messageWrappers = messagesContainer.querySelectorAll('.message-wrapper');
    if (messageWrappers.length > 0) {
        // We'll use timestamp as a simple way to track last message
        lastMessageId = Date.now();
    }

    // Scroll to bottom of messages
    function scrollToBottom(smooth = true) {
        if (smooth) {
            messagesContainer.scrollTo({
                top: messagesContainer.scrollHeight,
                behavior: 'smooth'
            });
        } else {
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
    }

    // Initial scroll to bottom
    scrollToBottom(false);

    // Auto-resize textarea
    function autoResize() {
        messageInput.style.height = 'auto';
        const newHeight = Math.min(messageInput.scrollHeight, 120);
        messageInput.style.height = newHeight + 'px';
    }

    // Handle typing indicator
    function showTyping() {
        if (!isTyping) {
            isTyping = true;
            // In a real app, you'd send typing status to server
        }
    }

    function hideTyping() {
        if (isTyping) {
            isTyping = false;
            // In a real app, you'd send typing status to server
        }
    }

    // Handle message input changes
    messageInput.addEventListener('input', function() {
        autoResize();

        // Clear existing timer
        clearTimeout(typingTimer);

        if (this.value.trim()) {
            showTyping();
            // Hide typing indicator after 2 seconds of no typing
            typingTimer = setTimeout(hideTyping, 2000);
        } else {
            hideTyping();
        }
    });

    // Handle Enter key (send message)
    messageInput.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            if (this.value.trim() && !isSubmitting) {
                // Trigger form submission
                submitMessage();
            }
        }
    });

    // Function to submit message
    function submitMessage() {
        if (isSubmitting) return;
        
        const content = messageInput.value.trim();
        if (!content) return;

        isSubmitting = true;

        // Create FormData
        const formData = new FormData(messageForm);

        // Show sending state
        sendBtn.disabled = true;
        sendBtn.innerHTML = '<div class="spinner-border spinner-border-sm" role="status"></div>';

        hideTyping();

        // Send message via AJAX
        fetch(messageForm.action, {
            method: 'POST',
            body: formData,
            headers: {
                'X-Requested-With': 'XMLHttpRequest'
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Add message to UI immediately
                addMessageToUI(data.message, true);
                messageInput.value = '';
                autoResize();
                scrollToBottom();

                // Update last message tracking
                lastMessageId = Date.now();
            } else {
                showNotification('Failed to send message: ' + (data.error || 'Unknown error'), 'error');
            }
        })
        .catch(error => {
            console.error('Error:', error);
            showNotification('Failed to send message. Please try again.', 'error');
        })
        .finally(() => {
            // Re-enable form
            sendBtn.disabled = false;
            sendBtn.innerHTML = '<i class="bi bi-send-fill"></i>';
            messageInput.focus();
            isSubmitting = false;
        });
    }

    // Handle message form submission with AJAX
    messageForm.addEventListener('submit', function(e) {
        e.preventDefault();
        submitMessage();
    });

    // Add message to UI
    function addMessageToUI(messageData, isSent = false) {
        const messageDiv = document.createElement('div');
        const currentTime = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});

        if (isSent) {
            messageDiv.className = 'message-wrapper sent';
            messageDiv.innerHTML = `
                <div class="message-group">
                    <div class="message-bubble sent-bubble">
                        <div class="message-content">${messageData.content.replace(/\n/g, '<br>')}</div>
                        <div class="message-time">${currentTime}</div>
                    </div>
                    <div class="message-status">
                        <i class="bi bi-check2-all text-primary"></i>
                    </div>
                </div>
                <div class="avatar">
                    <div class="avatar-circle user-avatar">
                        {{ user.get_short_name.0|upper }}
                    </div>
                </div>
            `;

            // Track this message to prevent duplicates
            const uniqueId = messageData.content.trim() + '|' + messageCount;
            existingMessageIds.add(uniqueId);
            messageCount++;

        } else {
            // For received messages
            messageDiv.className = 'message-wrapper received';
            const senderName = messageData.sender ? messageData.sender.name : 'Unknown';
            const senderInitial = senderName.charAt(0).toUpperCase();

            messageDiv.innerHTML = `
                <div class="avatar">
                    <div class="avatar-circle">
                        ${senderInitial}
                    </div>
                </div>
                <div class="message-group">
                    <div class="sender-name">${senderName}</div>
                    <div class="message-bubble received-bubble">
                        <div class="message-content">${messageData.content.replace(/\n/g, '<br>')}</div>
                        <div class="message-time">${currentTime}</div>
                    </div>
                </div>
            `;
        }

        messagesContainer.appendChild(messageDiv);
        animateMessage(messageDiv);
        if (!isSent) messageCount++;
    }

    // Add system message to UI
    function addSystemMessageToUI(messageData) {
        const messageDiv = document.createElement('div');
        const currentTime = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});

        messageDiv.className = 'system-message';
        messageDiv.innerHTML = `
            <div class="system-message-content">
                <i class="bi bi-info-circle me-1"></i>
                ${messageData.content}
            </div>
            <div class="system-message-time">${currentTime}</div>
        `;

        messagesContainer.appendChild(messageDiv);
        animateMessage(messageDiv);
        messageCount++;
    }

    // Animate message appearance
    function animateMessage(messageDiv) {
        messageDiv.style.opacity = '0';
        messageDiv.style.transform = 'translateY(10px)';
        requestAnimationFrame(() => {
            messageDiv.style.transition = 'all 0.3s ease-out';
            messageDiv.style.opacity = '1';
            messageDiv.style.transform = 'translateY(0)';
        });
    }

    // Simple notification system
    function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `alert alert-${type === 'error' ? 'danger' : 'info'} alert-dismissible fade show position-fixed`;
        notification.style.cssText = 'top: 20px; right: 20px; z-index: 1050; max-width: 300px;';
        notification.innerHTML = `
            ${message}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        `;

        document.body.appendChild(notification);

        // Auto-remove after 3 seconds
        setTimeout(() => {
            if (notification.parentNode) {
                notification.remove();
            }
        }, 3000);
    }

    // Track existing message IDs to prevent duplicates
    let existingMessageIds = new Set();
    let messageCount = 0;

    // Initialize with existing messages
    function initializeExistingMessages() {
        // Get all message elements and extract any IDs we can find
        const messages = messagesContainer.querySelectorAll('.message-wrapper, .system-message');
        messageCount = messages.length;
        messages.forEach((msg, index) => {
            // Use a more reliable identifier: content + position
            const content = msg.querySelector('.message-content, .system-message-content');
            if (content) {
                const uniqueId = content.textContent.trim() + '|' + index;
                existingMessageIds.add(uniqueId);
            }
        });
        console.log('Initialized with', existingMessageIds.size, 'existing messages');
    }

    // Initialize on page load
    initializeExistingMessages();

    // Poll for new messages every 5 seconds (reduced frequency)
    function pollForNewMessages() {
        fetch(`{% url 'messaging:messages_api' conversation.id %}?offset=0&limit=50`, {
            method: 'GET',
            headers: {
                'X-Requested-With': 'XMLHttpRequest'
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.messages && data.messages.length > 0) {
                // Process messages in chronological order (reverse the array since API returns newest first)
                const messagesInOrder = data.messages.reverse();

                let newMessagesAdded = 0;
                messagesInOrder.forEach(messageData => {
                    // Create unique identifier for this message using actual message ID
                    const uniqueId = messageData.id || (messageData.content.trim() + '|' + messageData.created_at);

                    // Skip if we already have this message
                    if (existingMessageIds.has(uniqueId)) {
                        return;
                    }

                    // Add to our tracking set
                    existingMessageIds.add(uniqueId);

                    // Only add messages from other users (not current user's own messages)
                    if (!messageData.sender || messageData.sender.id != {{ current_user_id }}) {
                        if (messageData.message_type === 'system') {
                            addSystemMessageToUI(messageData);
                        } else {
                            addMessageToUI(messageData, false);
                        }
                        newMessagesAdded++;
                    }
                });
                
                if (newMessagesAdded > 0) {
                    scrollToBottom();
                }
            }
        })
        .catch(error => {
            console.error('Polling error:', error);
        });
    }

    // Start polling for new messages every 10 seconds (reduced frequency)
    pollInterval = setInterval(pollForNewMessages, 10000);

    // Focus on message input
    messageInput.focus();

    // Clean up on page unload
    window.addEventListener('beforeunload', function() {
        if (pollInterval) {
            clearInterval(pollInterval);
        }
        hideTyping();
    });

    // Handle visibility change to pause/resume polling
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            if (pollInterval) {
                clearInterval(pollInterval);
            }
        } else {
            pollInterval = setInterval(pollForNewMessages, 10000);
            pollForNewMessages(); // Poll immediately when page becomes visible
        }
    });
});
</script>

<style>
/* Messenger-like Chat Styles */
.chat-container {
    display: flex;
    flex-direction: column;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.1);
    overflow: hidden;
}

.messages-area {
    flex: 1;
    overflow-y: auto;
    padding: 16px;
    background: linear-gradient(135deg, #f8f9ff 0%, #fafbff 100%);
    scroll-behavior: smooth;
}

.messages-area::-webkit-scrollbar {
    width: 6px;
}

.messages-area::-webkit-scrollbar-track {
    background: transparent;
}

.messages-area::-webkit-scrollbar-thumb {
    background: rgba(0,0,0,0.2);
    border-radius: 3px;
}

.messages-area::-webkit-scrollbar-thumb:hover {
    background: rgba(0,0,0,0.3);
}

.message-wrapper {
    display: flex;
    align-items: flex-end;
    margin-bottom: 16px;
    max-width: 75%;
}

.message-wrapper.sent {
    margin-left: auto;
    flex-direction: row-reverse;
}

.avatar {
    width: 32px;
    height: 32px;
    margin: 0 8px;
    flex-shrink: 0;
}

.avatar-circle {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 14px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

.user-avatar {
    background: linear-gradient(45deg, #007bff 0%, #0056b3 100%) !important;
}

.message-group {
    display: flex;
    flex-direction: column;
    max-width: 100%;
}

.sent .message-group {
    align-items: flex-end;
}

.sender-name {
    font-size: 12px;
    font-weight: 600;
    color: #65676b;
    margin-bottom: 4px;
    margin-left: 12px;
}

.message-bubble {
    position: relative;
    padding: 12px 16px;
    border-radius: 18px;
    max-width: 100%;
    word-wrap: break-word;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.sent-bubble {
    background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
    color: white;
    border-bottom-right-radius: 6px;
}

.received-bubble {
    background: #f0f2f5;
    color: #1c1e21;
    border-bottom-left-radius: 6px;
}

.message-content {
    line-height: 1.4;
    margin: 0;
    word-break: break-word;
}

.message-time {
    font-size: 11px;
    opacity: 0.7;
    margin-top: 4px;
    text-align: right;
}

.received-bubble .message-time {
    text-align: left;
    color: #65676b;
}

.message-status {
    font-size: 12px;
    margin-top: 2px;
    opacity: 0.8;
}

/* System Messages */
.system-message {
    text-align: center;
    margin: 16px 0;
}

.system-message-content {
    display: inline-block;
    background: rgba(0,0,0,0.05);
    color: #65676b;
    padding: 6px 12px;
    border-radius: 16px;
    font-size: 13px;
    font-style: italic;
}

.system-message-time {
    font-size: 11px;
    color: #8a8d91;
    margin-top: 4px;
}

/* Typing Indicator */
.typing-indicator {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    color: #65676b;
    font-size: 13px;
}

.typing-dots {
    display: flex;
    margin-right: 8px;
}

.typing-dots span {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #007bff;
    margin: 0 2px;
    animation: typing 1.4s infinite;
}

.typing-dots span:nth-child(2) {
    animation-delay: 0.2s;
}

.typing-dots span:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes typing {
    0%, 60%, 100% {
        transform: translateY(0);
        opacity: 0.4;
    }
    30% {
        transform: translateY(-10px);
        opacity: 1;
    }
}

/* Message Input Area */
.message-input-area {
    padding: 12px 16px;
    background: white;
    border-top: 1px solid #e4e6ea;
}

.input-container {
    display: flex;
    align-items: flex-end;
    background: #f0f2f5;
    border-radius: 20px;
    padding: 8px 12px;
    gap: 8px;
}

.attachment-btn, .emoji-btn {
    background: none;
    border: none;
    color: #007bff;
    font-size: 18px;
    padding: 6px;
    border-radius: 50%;
    transition: all 0.2s ease;
    cursor: pointer;
}

.attachment-btn:hover, .emoji-btn:hover {
    background: rgba(0,123,255,0.1);
}

#message-input {
    flex: 1;
    border: none;
    background: transparent;
    resize: none;
    outline: none;
    font-size: 14px;
    line-height: 1.4;
    max-height: 120px;
    min-height: 20px;
    padding: 8px 0;
}

#message-input::placeholder {
    color: #8a8d91;
}

.send-btn {
    background: #007bff;
    border: none;
    color: white;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 6px rgba(0,123,255,0.3);
}

.send-btn:hover {
    background: #0056b3;
    transform: scale(1.05);
}

.send-btn:disabled {
    opacity: 0.5;
    transform: none;
}

/* Empty State */
.empty-state {
    text-align: center;
    padding: 60px 20px;
    color: #65676b;
}

.empty-state i {
    font-size: 4rem;
    opacity: 0.3;
    margin-bottom: 16px;
}

.empty-state h5 {
    margin-bottom: 8px;
    color: #1c1e21;
}

/* Responsive */
@media (max-width: 768px) {
    .message-wrapper {
        max-width: 85%;
    }

    .chat-container {
        height: 70vh !important;
    }

    .messages-area {
        padding: 12px;
    }

    .message-input-area {
        padding: 8px 12px;
    }
}

/* Smooth animations */
.message-wrapper {
    animation: fadeInUp 0.3s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
</style>
{% endblock %}